(this["webpackJsonptelemetry-ui"]=this["webpackJsonptelemetry-ui"]||[]).push([[0],{101:function(e,t,n){"use strict";var r=n(37),a=n(48),s=n(49),i=n(57);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageRegistry=void 0;var o=n(56),u=n(102),l=function(e){var t={id:255,parse:function(e){return t.value.parse(e)},value:{name:"message",parse:function(n){var r=new TextDecoder("utf-8"),a=new Uint8Array(n)[0],s=r.decode(n.slice(1));try{var l=JSON.parse(s);if(u.isSensorValueDTO(l)){var c,h=u.toSensorValue(l),f=new o.Message(h,a);f.value=f.value.replaceBasicSensorValues(e.basicSensorValues);var v=h.getBasicSensorValues();e.basicSensorValues=e.basicSensorValues.filter((function(e){return-1===v.findIndex((function(t){return t.name===e.name}))})),(c=e.basicSensorValues).push.apply(c,i(v)),t.value.message=f;var d=e.messages.findIndex((function(e){return e.id==f.id}));-1!=d&&(console.log("attention, added same message id again!"),e.messages.splice(d,1)),e.addMessage(f)}}catch(A){return!1}return!0},serialize:function(){return new Uint8Array([])},size:h,replaceBasicSensorValues:function(e){return t.value},message:null,getBasicSensorValues:function(){return[]}},registry:e};return t},c=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return console.log(e)};a(this,e),this.currentMessage=null,this.buffer=new ArrayBuffer(0),this.bufferView=new Uint8Array(this.buffer),this.currentPosition=0,this.previousByteZero=!1,this.basicSensorValues=[],this.messages=[],n.push(l(this)),this.streamMessage=new o.StreamMessage(r),n.push(this.streamMessage),n.forEach((function(e){return t.addMessage(e)}))}return s(e,[{key:"readData",value:function(e){var t,n=this,a=r(new Uint8Array(e));try{var s=function(){var e=t.value;if(n.currentPosition>=(null!==n.currentMessage?n.currentMessage.value:0)&&(n.currentPosition=0),n.previousByteZero){if(0==e)n.bufferView[n.currentPosition]=e,n.currentPosition++;else if(1==e)n.currentMessage&&(n.currentMessage.parse(n.buffer.slice(0,n.currentPosition)),n.currentMessage=null);else{var r=n.messages.findIndex((function(t){return t.id==e}));n.currentMessage=-1==r?null:n.messages[r]}n.previousByteZero=!1}else 0==e?n.previousByteZero=!0:(n.bufferView[n.currentPosition]=e,n.currentPosition++)};for(a.s();!(t=a.n()).done;)s()}catch(i){a.e(i)}finally{a.f()}}},{key:"addMessage",value:function(e){this.messages.push(e),this.buffer=new ArrayBuffer(Math.max.apply(Math,i(this.messages.map((function(e){return e.value.size}))))),this.bufferView=new Uint8Array(this.buffer)}},{key:"onMessage",set:function(e){this.streamMessage._value.onMessage=e}},{key:"encodeMessage",value:function(e){var t,n=new Uint8Array(e.value.serialize()),a=[0,e.id],s=r(n);try{for(s.s();!(t=s.n()).done;){var i=t.value;a.push(i),0===i&&a.push(0)}}catch(o){s.e(o)}finally{s.f()}return a.push(0,1),new Uint8Array(a)}}]),e}();t.MessageRegistry=c;var h=1e4},102:function(e,t,n){"use strict";var r=n(37);Object.defineProperty(t,"__esModule",{value:!0}),t.toSensorValue=t.isSensorValueListDTO=t.isSensorValueDTO=t.isBasicSensorValueDTOConstrained=t.isBasicSensorValueDTO=void 0;var a=n(50);function s(e){return void 0!==e.name&&void 0!==e.size}function i(e){return s(e)&&void 0!==e.type}function o(e){return void 0===e.values}function u(e){try{if(!s(e))return!1;var t=e.values;if(void 0===t)return!1;var n,a=r(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(!i(o)||!u(o))return!1}}catch(l){a.e(l)}finally{a.f()}}catch(c){return!1}return!0}t.isBasicSensorValueDTO=i,t.isBasicSensorValueDTOConstrained=o,t.isSensorValueDTO=function(e){return i(e)||!u(e)},t.isSensorValueListDTO=u,t.toSensorValue=function e(t){if(o(t))return new a.NumberSensorValue(t.name,a.getNumberParser(t.type,t.size));var n=t.values.map((function(t){return e(t)}));return new a.SensorValueList(n)}},103:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(9),i=n.n(s),o=(n(81),n(11)),u=n(12),l=n(27),c=n(25),h=(n(82),n(5)),f=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).canvasRef=void 0,r.canvasRef=a.a.createRef(),r}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:this.props.className,children:Object(h.jsx)("canvas",{height:this.props.height,width:this.props.width,ref:this.canvasRef,style:{fontFamily:"Arial"}})})}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){switch(this.props.orientation){case"horizontal":this.renderHorizontally();break;case"verticalL":this.renderVerticallyL();break;case"verticalR":this.renderVerticallyR()}}},{key:"renderHorizontally",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var n=Math.round(this.props.value),r=this.props.width,a=this.props.height;null===t||void 0===t||t.clearRect(0,0,r,a),t.translate(-10*(this.props.value-n),0);for(var s=n-25;s<=n+25;s++)if(t.strokeStyle="black",s%10===0){t.font="15px Arial";var i=s%360;i<0&&(i+=360);var o=("000"+i).slice(-3);t.strokeText(o,r/2+2*(s-n)*5-14,.8*a),t.beginPath(),t.moveTo(r/2+2*(s-n)*5,.1*a),t.lineTo(r/2+2*(s-n)*5,.4*a),t.stroke()}else s%5===0&&(t.beginPath(),t.moveTo(r/2+2*(s-n)*5,.1*a),t.lineTo(r/2+2*(s-n)*5,.8*a),t.stroke());t.resetTransform(),t.fillStyle="black",t.fillRect(.5*r-25,3,50,.9*a),t.strokeStyle="white",t.beginPath(),t.rect(.5*r-25,3,50,.9*a),t.stroke(),t.font="20px Arial";var u=("000"+n%360).slice(-3);t.strokeText(u,.5*r-17,.8*a)}}},{key:"renderVerticallyL",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var n=Math.round(this.props.value),r=10,a=this.props.width,s=this.props.height;null===t||void 0===t||t.clearRect(0,0,a,s),t.translate(0,20*(this.props.value-n));for(var i=n-10;i<=n+10;i++)t.strokeStyle="black",i%10===0?(t.font="15px Arial",t.strokeText(i.toString(),.1*a,s/2+5-2*(i-n)*r),t.beginPath(),t.moveTo(.5*a,s/2-2*(i-n)*r),t.lineTo(.9*a,s/2-2*(i-n)*r),t.stroke()):i%5===0&&(t.beginPath(),t.moveTo(.6*a,s/2-2*(i-n)*r),t.lineTo(.9*a,s/2-2*(i-n)*r),t.stroke());t.resetTransform(),t.fillStyle="black",t.fillRect(.01*a,s/2-20,.9*a,40),t.strokeStyle="white",t.beginPath(),t.rect(.01*a,s/2-20,.9*a,40),t.stroke(),t.font="20px Arial",t.strokeText(n+" m/s",.1*a,s/2+10)}}},{key:"renderVerticallyR",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var n=Math.round(this.props.value),r=this.props.width,a=this.props.height;null===t||void 0===t||t.clearRect(0,0,r,a),t.translate(0,10*(this.props.value-n));for(var s=n-25;s<=n+25;s++)t.strokeStyle="black",s%10===0?(t.font="15px Arial",t.strokeText(s.toString(),.1*r,a/2+5-2*(s-n)*5),t.beginPath(),t.moveTo(.6*r,a/2-2*(s-n)*5),t.lineTo(.9*r,a/2-2*(s-n)*5),t.stroke()):s%5===0&&(t.beginPath(),t.moveTo(.3*r,a/2-2*(s-n)*5),t.lineTo(.9*r,a/2-2*(s-n)*5),t.stroke());t.resetTransform(),t.fillStyle="black",t.fillRect(.01*r,a/2-20,.99*r,40),t.strokeStyle="white",t.beginPath(),t.rect(.01*r,a/2-20,.99*r,40),t.stroke(),t.font="20px Arial",t.strokeText(n+" m",.1*r,a/2+10)}}}]),n}(r.Component),v=(n(84),function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).canvasRef=void 0,r.headingRef=void 0,r.altitudeRef=void 0,r.speedRef=void 0,r.canvasRef=a.a.createRef(),r.headingRef=a.a.createRef(),r.altitudeRef=a.a.createRef(),r.speedRef=a.a.createRef(),r}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"ah-container",style:{height:this.props.height,width:this.props.width},children:[Object(h.jsx)("canvas",{className:"ah-canvas",ref:this.canvasRef,height:this.props.height,width:this.props.width}),Object(h.jsx)(f,{className:"heading-gauge",ref:this.headingRef,height:.08*this.props.height,orientation:"horizontal",width:.7*this.props.width,value:this.props.heading}),Object(h.jsx)(f,{className:"alt-gauge",ref:this.altitudeRef,height:this.props.height,orientation:"verticalR",width:.12*this.props.width,value:this.props.altitude}),Object(h.jsx)(f,{className:"speed-gauge",ref:this.speedRef,height:this.props.height,orientation:"verticalL",width:.13*this.props.width,value:this.props.speed})]})}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var n=this.props.pitch,r=this.props.bank,a=this.props.width,s=this.props.height,i=2.5*a,o=8*s;t.translate(a/2,s/2),t.rotate(-r*Math.PI/180),t.translate(0,8*n),t.fillStyle="brown",t.fillRect(-i/2,0,i,o/2),t.fillStyle="blue",t.fillRect(-i/2,-o/2,i,o/2);for(var u=-80;u<=80;u+=10)t.lineWidth=1,t.moveTo(-50,8*u),t.lineTo(50,8*u),t.strokeStyle="white",t.stroke();for(var l=-25;l<=25;l+=10)t.moveTo(-30,8*l),t.lineTo(30,8*l),t.stroke();for(var c=-17.5;c<=17.5;c+=5)t.moveTo(-15,8*c),t.lineTo(15,8*c),t.stroke();t.font="30px Arial";for(var h=10;h<=80;h+=10)t.strokeText(h+"",-85,8*-h+10),t.strokeText(h+"",50,8*-h+10),t.strokeText(h+"",-85,8*h+10),t.strokeText(h+"",50,8*h+10);t.translate(0,-8*n),t.rotate(30*Math.PI/180);for(var f=-30;f<=30;f+=10)t.beginPath(),t.moveTo(0,-s/2.5),t.lineTo(0,-s/2.35),0===f&&t.lineTo(0,-s/2.25),t.stroke(),t.rotate(-10*Math.PI/180);t.rotate(40*Math.PI/180),t.rotate(r*Math.PI/180),t.translate(-a/2,-s/2),t.beginPath(),t.arc(a/2,s/2,s/2.5,0,2*Math.PI),t.lineWidth=1,t.strokeStyle="black",t.stroke(),t.translate(a/2,s/2),t.beginPath(),t.moveTo(0,-s/2.5),t.lineTo(-8,-s/2.3),t.lineTo(8,-s/2.3),t.lineTo(0,-s/2.5),t.strokeStyle="yellow",t.stroke(),t.translate(-a/2,-s/2),t.beginPath(),t.rect(a/2-5,s/2-5,10,10),t.lineWidth=3,t.strokeStyle="yellow",t.stroke(),t.beginPath(),t.moveTo(-s/2.3+a/2,s/2),t.lineTo(-s/4+a/2,s/2),t.lineTo(-s/4+a/2,s/2+40),t.stroke(),t.beginPath(),t.moveTo(s/2.3+a/2,s/2),t.lineTo(s/4+a/2,s/2),t.lineTo(s/4+a/2,s/2+40),t.stroke()}}}]),n}(r.Component));v.defaultProps={height:500,width:600};var d=n(142),A=(n(85),function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)(d.a,{container:!0,spacing:3,className:"nav-grid",children:[Object(h.jsx)(d.a,{item:!0,style:{flexGrow:0},children:e.children.horizon}),Object(h.jsx)(d.a,{item:!0,children:e.children.settings})]})})}),p=n(35),g=n(107),C=n(111),y=n(109),b=n(108),m=n(147),D=n(104),k=n(149),j=n(150),S=n(51),w=n.n(S),O=n(68),B=n(146),E=n(148),x=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:9091";Object(o.a)(this,e),this.baseUrl="",this.socket=null,this.streamHook=void 0,this.setSocketUrl(n),this.streamHook={writeData:function(e){var n;return null===(n=t.socket)||void 0===n?void 0:n.send(e)},onData:null}}return Object(u.a)(e,[{key:"matchesStringValue",value:function(e){return e==="websocket-"+this.baseUrl}},{key:"getSettings",value:function(){return Object(h.jsx)(T,{source:this})}},{key:"openPort",value:function(e){var t,n=this;null===(t=this.socket)||void 0===t||t.close(),this.socket=null;var r=new URL(this.baseUrl+"/open-port-request?");r.searchParams.append("path",encodeURI(e.path)),r.searchParams.append("baud","9600"),fetch(r.href).then((function(t){t.text().then((function(t){"success"===t&&n.setSocketUrl(n.baseUrl,"/device"+e.path)}))}))}},{key:"close",value:function(){var e;null===(e=this.socket)||void 0===e||e.close()}},{key:"setSocketUrl",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.replace("http://","ws://")+r;null===(t=this.socket)||void 0===t||t.close();try{this.socket=new WebSocket(a),this.socket.onopen=function(e){var t;null===(t=n.socket)||void 0===t||t.send("Hallo Welt")},this.socket.onmessage=function(e){console.log(e.data);try{e.data.arrayBuffer().then((function(e){var t,r;null===(t=(r=n.streamHook).onData)||void 0===t||t.call(r,e)}))}catch(t){}}}catch(s){console.log(s)}this.baseUrl=e}},{key:"getSelectOption",value:function(){var e="websocket-"+this.baseUrl;return Object(h.jsx)(j.a,{value:e,children:Object(h.jsxs)("p",{children:["Websocket ",Object(h.jsx)(B.a,{children:this.baseUrl})]})},e)}},{key:"getStreamHook",value:function(){var e=this;return this.streamHook.writeData=function(t){var n;return null===(n=e.socket)||void 0===n?void 0:n.send(t)},this.streamHook}},{key:"begin",value:function(){}}]),e}(),V=function(e){var t=a.a.useState({ports:[],selected:""}),n=Object(p.a)(t,2),s=n[0],i=n[1],o=Object(r.useRef)(-1);window.clearInterval(o.current);var u=e.url;return o.current=window.setInterval(Object(O.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(u+"/devices");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,i({ports:n,selected:s.selected}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),1e3),Object(r.useEffect)((function(){return function(){console.log("Clearing timer ",o.current,"before exit"),window.clearInterval(o.current)}}),[]),Object(h.jsx)(y.a,{value:s.selected,onChange:function(t){var n=s.ports.find((function(e){return e.path===t.target.value}));n&&e.onChange(n),i({ports:s.ports,selected:t.target.value})},children:s.ports.map((function(e){return Object(h.jsxs)(j.a,{value:e.path,children:[e.path," (",e.manufacturer,")"]})}))})},T=function(e){var t=a.a.useState(e.source.baseUrl),n=Object(p.a)(t,2),r=n[0],s=n[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(E.a,{defaultValue:e.source.baseUrl,onChange:function(t){e.source.setSocketUrl(t.target.value),s(t.target.value)}}),Object(h.jsx)(V,{url:r,onChange:e.source.openPort.bind(e.source)})]})},F=function(){function e(){Object(o.a)(this,e),this.hook={writeData:function(e){return console.log(e)},onData:null}}return Object(u.a)(e,[{key:"matchesStringValue",value:function(e){return"demo"===e}},{key:"getSettings",value:function(){return null}},{key:"getSelectOption",value:function(){return Object(h.jsx)(j.a,{value:"demo",children:"Demo data"},"demo")}},{key:"getStreamHook",value:function(){return this.hook}},{key:"close",value:function(){}},{key:"begin",value:function(){var e,t;null===(e=(t=this.hook).onData)||void 0===e||e.call(t,R)}}]),e}(),M=new x,P=[new F,M],R=new Uint8Array("00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 0A 5D 0A 7D 00 01 00 11 00 00 00 00 C0 41 18 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 C8 41 19 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 D0 41 1A 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 D8 41 1B 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 E0 41 1C 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 E8 41 1D 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 F0 41 1E 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 F8 41 1F 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 00 00 42 20 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 04 42 21 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 08 42 22 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 0C 42 23 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 10 42 24 00 00 00 00 00 00 00 01 ".split(" ").map((function(e){return parseInt(e,16)}))),U=(n(92),function(e){var t,n=a.a.useState(""),r=Object(p.a)(n,2),s=r[0],i=r[1];return Object(h.jsxs)(m.a,{className:"settings-grid-element",children:[Object(h.jsx)(D.a,{component:"h1",children:"Settings"}),Object(h.jsx)(k.a,{}),Object(h.jsxs)(g.a,{className:"settings-form",children:[Object(h.jsx)(C.a,{htmlFor:"datasource-select",children:"Data source"}),Object(h.jsx)(y.a,{id:"datasource-select",value:s,onChange:function(t){var n;null===(n=e.logic.currentDataSource)||void 0===n||n.close(),e.logic.currentDataSource=P.find((function(e){return e.matchesStringValue(t.target.value)}))||null,i(t.target.value)},children:P.map((function(e){return e.getSelectOption()}))}),Object(h.jsx)(b.a,{children:"Data source to use"})]}),null===(t=e.logic.currentDataSource)||void 0===t?void 0:t.getSettings()]})}),z=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).props.logic.onUpdate=function(){r.forceUpdate()},r}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(A,{children:{horizon:Object(h.jsx)(v,{pitch:this.props.logic.data.pitch,bank:this.props.logic.data.bank,heading:this.props.logic.data.heading,altitude:this.props.logic.data.altitude,speed:this.props.logic.data.speed}),settings:Object(h.jsx)(U,{logic:this.props.logic})}})})}}]),n}(a.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))},N=n(69),_=n(70),H=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Object(o.a)(this,e),this.registry=null,this.onUpdate=void 0,this.data={pitch:0,bank:0,heading:0,speed:0,altitude:0},this._currentDataSource=null,this.streamHook=null,this.onUpdate=t}return Object(u.a)(e,[{key:"currentDataSource",get:function(){return this._currentDataSource},set:function(e){this._currentDataSource=e,this.setStreamHook((null===e||void 0===e?void 0:e.getStreamHook())||null),null===e||void 0===e||e.begin()}},{key:"setStreamHook",value:function(e){var t=this;this.streamHook=e,this.registry=new _.MessageRegistry,e&&(e.onData=function(e){if(t.registry){t.registry.readData(e);var n,r=Object(N.a)(t.registry.basicSensorValues||[]);try{for(r.s();!(n=r.n()).done;){var a=n.value;Object.keys(t.data).includes(a.name)&&(t.data[a.name]=a.value)}}catch(s){r.e(s)}finally{r.f()}t.onUpdate()}})}}]),e}());i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(z,{logic:H})}),document.getElementById("root")),I()},50:function(e,t,n){"use strict";var r=n(37),a=n(49),s=n(62),i=n(60),o=n(61),u=n(48);Object.defineProperty(t,"__esModule",{value:!0}),t.SensorValueList=t.NumberSensorValue=t.getNumberParser=t.parsers=t.SensorValue=void 0;var l=function e(){var t=this;u(this,e),this.name="",this.size=0,this.replaceBasicSensorValues=function(e){return t}};t.SensorValue=l,t.parsers={uint8:{name:"uint8",size:1,parse:function(e){return new Uint8Array(e)[0]},serialize:function(e){return new Uint8Array([e])}},uint16:{name:"uint16",size:2,parse:function(e){return new Uint16Array(e)[0]},serialize:function(e){return new Uint16Array([e])}},uint32:{name:"uint32",size:4,parse:function(e){return new Uint32Array(e)[0]},serialize:function(e){return new Uint32Array([e])}},int8:{name:"int8",size:1,parse:function(e){return new Int8Array(e)[0]},serialize:function(e){return new Int8Array([e])}},int16:{name:"int16",size:2,parse:function(e){return new Int16Array(e)[0]},serialize:function(e){return new Int16Array([e])}},int32:{name:"int32",size:4,parse:function(e){return new Int32Array(e)[0]},serialize:function(e){return new Int32Array([e])}},float32:{name:"float32",size:4,parse:function(e){return new Float32Array(e)[0]},serialize:function(e){return new Float32Array([e])}},float64:{name:"float64",size:4,parse:function(e){return new Float64Array(e)[0]},serialize:function(e){return new Float64Array([e])}}};t.getNumberParser=function(e,n){return t.parsers[e+8*n]};var c=function(e){i(n,e);var t=o(n);function n(e,r){var a;return u(this,n),(a=t.call(this)).value=0,a.name=e,a.parser=r,a.size=r.size,a.replaceBasicSensorValues=function(e){var t=e.find((function(e){return e.name==a.name}));return void 0==t?s(a):t},a}return a(n,[{key:"getBasicSensorValues",value:function(){return[this]}},{key:"parse",value:function(e){return this.value=this.parser.parse(e),!0}},{key:"serialize",value:function(){return this.parser.serialize(this.value)}}]),n}(l);t.NumberSensorValue=c;var h=function(e){i(n,e);var t=o(n);function n(e){var r;return u(this,n),(r=t.call(this)).sensorValues=e,r.sensorValues.forEach((function(e){return r.size+=e.size})),r.replaceBasicSensorValues=function(e){for(var t in r.sensorValues)r.sensorValues[t]=r.sensorValues[t].replaceBasicSensorValues(e);return s(r)},r}return a(n,[{key:"getBasicSensorValues",value:function(){return this.sensorValues.filter((function(e){return e instanceof c}))}},{key:"parse",value:function(e){var t,n=0,a=r(this.sensorValues);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.parse(e.slice(n,n+s.size)),n+=s.size}}catch(i){a.e(i)}finally{a.f()}return n==this.size}},{key:"serialize",value:function(){var e,t=new Uint8Array(this.size),n=r(this.sensorValues);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.set(new Uint8Array(a.serialize()),0)}}catch(s){n.e(s)}finally{n.f()}return t}}]),n}(l);t.SensorValueList=h},56:function(e,t,n){"use strict";var r=n(57),a=n(37),s=n(60),i=n(61),o=n(48),u=n(49);Object.defineProperty(t,"__esModule",{value:!0}),t.StreamMessage=t.Message=void 0;var l=n(50),c=function(){function e(t,n){if(o(this,e),n<=1||n>255)throw new Error("id not in valid range");this.id=n,this.value=t}return u(e,[{key:"parse",value:function(e){new DataView(e).getUint8(0);return new Uint8Array(e).length==this.value.size&&(this.value.parse(e),!0)}}]),e}();t.Message=c;var h=function(e){s(n,e);var t=i(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return console.log(e)};return o(this,n),(e=t.call(this)).name="stream",e.outputBuffer=[],e.size=r,e.onMessage=a,e}return u(n,[{key:"getBasicSensorValues",value:function(){return[]}},{key:"parse",value:function(e){return this.onMessage((new TextDecoder).decode(e)),!0}},{key:"serialize",value:function(){return new Uint8Array(0)}}]),n}(l.SensorValue),f=function(e){s(n,e);var t=i(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return console.log(e)};return o(this,n),(e=t.call(this,new h(500,r),254))._value=e.value,e}return u(n,[{key:"append",value:function(e){this._value.outputBuffer.push(e)}},{key:"encodeAndFlush",value:function(){var e=this,t=this._value.outputBuffer.map((function(t){return function(t){var n,r=(new TextEncoder).encode(t),s=[0,e.id],i=a(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;s.push(o),0===o&&s.push(0)}}catch(u){i.e(u)}finally{i.f()}return s.push(0,0,0,1),new Uint8Array(s)}(t)}));return this._value.outputBuffer=[],t.reduce((function(e,t){return Uint8Array.from([].concat(r(e),r(t)))}))}}]),n}(c);t.StreamMessage=f},70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberSensorValue=t.SensorValueList=t.MessageRegistry=t.Message=void 0;var r=n(56);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}});var a=n(101);Object.defineProperty(t,"MessageRegistry",{enumerable:!0,get:function(){return a.MessageRegistry}});var s=n(50);Object.defineProperty(t,"SensorValueList",{enumerable:!0,get:function(){return s.SensorValueList}}),Object.defineProperty(t,"NumberSensorValue",{enumerable:!0,get:function(){return s.NumberSensorValue}})},81:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},92:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.0f5251d7.chunk.js.map