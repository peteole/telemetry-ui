(this["webpackJsonptelemetry-ui"]=this["webpackJsonptelemetry-ui"]||[]).push([[0],{103:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(9),i=r.n(s),o=(r(78),r(11)),u=r(12),c=r(27),l=r(25),h=(r(79),r(5)),f=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).canvasRef=void 0,n.canvasRef=a.a.createRef(),n}return Object(u.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{className:this.props.className,children:Object(h.jsx)("canvas",{height:this.props.height,width:this.props.width,ref:this.canvasRef,style:{fontFamily:"Arial"}})})}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){switch(this.props.orientation){case"horizontal":this.renderHorizontally();break;case"verticalL":this.renderVerticallyL();break;case"verticalR":this.renderVerticallyR()}}},{key:"renderHorizontally",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var r=Math.round(this.props.value),n=this.props.width,a=this.props.height;null===t||void 0===t||t.clearRect(0,0,n,a),t.translate(-10*(this.props.value-r),0);for(var s=r-25;s<=r+25;s++)if(t.strokeStyle="black",s%10===0){t.font="15px Arial";var i=s%360;i<0&&(i+=360);var o=("000"+i).slice(-3);t.strokeText(o,n/2+2*(s-r)*5-14,.8*a),t.beginPath(),t.moveTo(n/2+2*(s-r)*5,.1*a),t.lineTo(n/2+2*(s-r)*5,.4*a),t.stroke()}else s%5===0&&(t.beginPath(),t.moveTo(n/2+2*(s-r)*5,.1*a),t.lineTo(n/2+2*(s-r)*5,.8*a),t.stroke());t.resetTransform(),t.fillStyle="black",t.fillRect(.5*n-25,3,50,.9*a),t.strokeStyle="white",t.beginPath(),t.rect(.5*n-25,3,50,.9*a),t.stroke(),t.font="20px Arial";var u=("000"+r%360).slice(-3);t.strokeText(u,.5*n-17,.8*a)}}},{key:"renderVerticallyL",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var r=Math.round(this.props.value),n=10,a=this.props.width,s=this.props.height;null===t||void 0===t||t.clearRect(0,0,a,s),t.translate(0,20*(this.props.value-r));for(var i=r-10;i<=r+10;i++)t.strokeStyle="black",i%10===0?(t.font="15px Arial",t.strokeText(i.toString(),.1*a,s/2+5-2*(i-r)*n),t.beginPath(),t.moveTo(.5*a,s/2-2*(i-r)*n),t.lineTo(.9*a,s/2-2*(i-r)*n),t.stroke()):i%5===0&&(t.beginPath(),t.moveTo(.6*a,s/2-2*(i-r)*n),t.lineTo(.9*a,s/2-2*(i-r)*n),t.stroke());t.resetTransform(),t.fillStyle="black",t.fillRect(.01*a,s/2-20,.9*a,40),t.strokeStyle="white",t.beginPath(),t.rect(.01*a,s/2-20,.9*a,40),t.stroke(),t.font="20px Arial",t.strokeText(r+" m/s",.1*a,s/2+10)}}},{key:"renderVerticallyR",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var r=Math.round(this.props.value),n=this.props.width,a=this.props.height;null===t||void 0===t||t.clearRect(0,0,n,a),t.translate(0,10*(this.props.value-r));for(var s=r-25;s<=r+25;s++)t.strokeStyle="black",s%10===0?(t.font="15px Arial",t.strokeText(s.toString(),.1*n,a/2+5-2*(s-r)*5),t.beginPath(),t.moveTo(.6*n,a/2-2*(s-r)*5),t.lineTo(.9*n,a/2-2*(s-r)*5),t.stroke()):s%5===0&&(t.beginPath(),t.moveTo(.3*n,a/2-2*(s-r)*5),t.lineTo(.9*n,a/2-2*(s-r)*5),t.stroke());t.resetTransform(),t.fillStyle="black",t.fillRect(.01*n,a/2-20,.99*n,40),t.strokeStyle="white",t.beginPath(),t.rect(.01*n,a/2-20,.99*n,40),t.stroke(),t.font="20px Arial",t.strokeText(r+" m",.1*n,a/2+10)}}}]),r}(n.Component),v=(r(81),function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).canvasRef=void 0,n.headingRef=void 0,n.altitudeRef=void 0,n.speedRef=void 0,n.canvasRef=a.a.createRef(),n.headingRef=a.a.createRef(),n.altitudeRef=a.a.createRef(),n.speedRef=a.a.createRef(),n}return Object(u.a)(r,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"ah-container",style:{height:this.props.height,width:this.props.width},children:[Object(h.jsx)("canvas",{className:"ah-canvas",ref:this.canvasRef,height:this.props.height,width:this.props.width}),Object(h.jsx)(f,{className:"heading-gauge",ref:this.headingRef,height:.08*this.props.height,orientation:"horizontal",width:.7*this.props.width,value:this.props.heading}),Object(h.jsx)(f,{className:"alt-gauge",ref:this.altitudeRef,height:this.props.height,orientation:"verticalR",width:.12*this.props.width,value:this.props.altitude}),Object(h.jsx)(f,{className:"speed-gauge",ref:this.speedRef,height:this.props.height,orientation:"verticalL",width:.13*this.props.width,value:this.props.speed})]})}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=null===(e=this.canvasRef.current)||void 0===e?void 0:e.getContext("2d");if(t){var r=this.props.pitch,n=this.props.bank,a=this.props.width,s=this.props.height,i=2.5*a,o=8*s;t.translate(a/2,s/2),t.rotate(-n*Math.PI/180),t.translate(0,8*r),t.fillStyle="brown",t.fillRect(-i/2,0,i,o/2),t.fillStyle="blue",t.fillRect(-i/2,-o/2,i,o/2);for(var u=-80;u<=80;u+=10)t.lineWidth=1,t.moveTo(-50,8*u),t.lineTo(50,8*u),t.strokeStyle="white",t.stroke();for(var c=-25;c<=25;c+=10)t.moveTo(-30,8*c),t.lineTo(30,8*c),t.stroke();for(var l=-17.5;l<=17.5;l+=5)t.moveTo(-15,8*l),t.lineTo(15,8*l),t.stroke();t.font="30px Arial";for(var h=10;h<=80;h+=10)t.strokeText(h+"",-85,8*-h+10),t.strokeText(h+"",50,8*-h+10),t.strokeText(h+"",-85,8*h+10),t.strokeText(h+"",50,8*h+10);t.translate(0,-8*r),t.rotate(30*Math.PI/180);for(var f=-30;f<=30;f+=10)t.beginPath(),t.moveTo(0,-s/2.5),t.lineTo(0,-s/2.35),0===f&&t.lineTo(0,-s/2.25),t.stroke(),t.rotate(-10*Math.PI/180);t.rotate(40*Math.PI/180),t.rotate(n*Math.PI/180),t.translate(-a/2,-s/2),t.beginPath(),t.arc(a/2,s/2,s/2.5,0,2*Math.PI),t.lineWidth=1,t.strokeStyle="black",t.stroke(),t.translate(a/2,s/2),t.beginPath(),t.moveTo(0,-s/2.5),t.lineTo(-8,-s/2.3),t.lineTo(8,-s/2.3),t.lineTo(0,-s/2.5),t.strokeStyle="yellow",t.stroke(),t.translate(-a/2,-s/2),t.beginPath(),t.rect(a/2-5,s/2-5,10,10),t.lineWidth=3,t.strokeStyle="yellow",t.stroke(),t.beginPath(),t.moveTo(-s/2.3+a/2,s/2),t.lineTo(-s/4+a/2,s/2),t.lineTo(-s/4+a/2,s/2+40),t.stroke(),t.beginPath(),t.moveTo(s/2.3+a/2,s/2),t.lineTo(s/4+a/2,s/2),t.lineTo(s/4+a/2,s/2+40),t.stroke()}}}]),r}(n.Component));v.defaultProps={height:500,width:600};var A=r(142),d=(r(82),function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)(A.a,{container:!0,spacing:3,className:"nav-grid",children:[Object(h.jsx)(A.a,{item:!0,style:{flexGrow:0},children:e.children.horizon}),Object(h.jsx)(A.a,{item:!0,children:e.children.settings})]})})}),p=r(35),g=r(107),C=r(111),b=r(109),D=r(108),m=r(147),y=r(104),k=r(149),j=r(150),S=r(50),O=r.n(S),w=r(65),B=r(146),E=r(148),x=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:9091";Object(o.a)(this,e),this.baseUrl="",this.socket=null,this.streamHook=void 0,this.setSocketUrl(r),this.streamHook={writeData:function(e){var r;return null===(r=t.socket)||void 0===r?void 0:r.send(e)},onData:null}}return Object(u.a)(e,[{key:"matchesStringValue",value:function(e){return e==="websocket-"+this.baseUrl}},{key:"getSettings",value:function(){return Object(h.jsx)(T,{source:this})}},{key:"openPort",value:function(e){var t=this,r=new URL(this.baseUrl+"/open-port-request?");r.searchParams.append("path",encodeURI(e.path)),r.searchParams.append("baud","9600"),fetch(r.href).then((function(r){r.text().then((function(r){"success"===r&&t.setSocketUrl(t.baseUrl,"/device"+e.path)}))}))}},{key:"close",value:function(){var e;null===(e=this.socket)||void 0===e||e.close()}},{key:"setSocketUrl",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";null===(t=this.socket)||void 0===t||t.close();try{this.socket=new WebSocket(e.replace("http://","ws://")+n),this.socket.onopen=function(e){var t;null===(t=r.socket)||void 0===t||t.send("Hallo Welt")},this.socket.onmessage=function(e){console.log(e.data);try{e.data.arrayBuffer().then((function(e){var t,n;null===(t=(n=r.streamHook).onData)||void 0===t||t.call(n,e)}))}catch(t){}}}catch(a){console.log(a)}this.baseUrl=e}},{key:"getSelectOption",value:function(){return Object(h.jsx)(j.a,{value:"websocket-"+this.baseUrl,children:Object(h.jsxs)("p",{children:["Websocket ",Object(h.jsx)(B.a,{children:this.baseUrl})]})})}},{key:"getStreamHook",value:function(){var e=this;return this.streamHook.writeData=function(t){var r;return null===(r=e.socket)||void 0===r?void 0:r.send(t)},this.streamHook}},{key:"begin",value:function(){}}]),e}(),V=function(e){var t=a.a.useState({ports:[],selected:""}),r=Object(p.a)(t,2),s=r[0],i=r[1],o=Object(n.useRef)(-1);window.clearInterval(o.current);var u=e.url;return o.current=window.setInterval(Object(w.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(u+"/devices");case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,i({ports:r,selected:s.selected}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),1e3),Object(n.useEffect)((function(){return function(){console.log("Clearing timer ",o.current,"before exit"),window.clearInterval(o.current)}}),[]),Object(h.jsx)(b.a,{value:s.selected,onChange:function(t){var r=s.ports.find((function(e){return e.path===t.target.value}));r&&e.onChange(r),i({ports:s.ports,selected:t.target.value})},children:s.ports.map((function(e){return Object(h.jsxs)(j.a,{value:e.path,children:[e.path," (",e.manufacturer,")"]})}))})},T=function(e){var t=a.a.useState(e.source.baseUrl),r=Object(p.a)(t,2),n=r[0],s=r[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(E.a,{defaultValue:e.source.baseUrl,onChange:function(t){e.source.setSocketUrl(t.target.value),s(t.target.value)}}),Object(h.jsx)(V,{url:n,onChange:e.source.openPort.bind(e.source)})]})},F=function(){function e(){Object(o.a)(this,e),this.hook={writeData:function(e){return console.log(e)},onData:null}}return Object(u.a)(e,[{key:"matchesStringValue",value:function(e){return"demo"===e}},{key:"getSettings",value:function(){return null}},{key:"getSelectOption",value:function(){return Object(h.jsx)(j.a,{value:"demo",children:"Demo data"})}},{key:"getStreamHook",value:function(){return this.hook}},{key:"close",value:function(){}},{key:"begin",value:function(){var e,t;null===(e=(t=this.hook).onData)||void 0===e||e.call(t,M)}}]),e}(),P=new x,R=[new F,P],M=new Uint8Array("00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 0A 5D 0A 7D 00 01 00 11 00 00 00 00 C0 41 18 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 C8 41 19 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 D0 41 1A 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 D8 41 1B 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 E0 41 1C 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 E8 41 1D 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 F0 41 1E 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 F8 41 1F 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 00 00 42 20 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 04 42 21 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 08 42 22 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 0C 42 23 00 00 00 00 00 00 00 01 00 FF 11 7B 22 6E 61 6D 65 22 3A 20 22 6C 69 73 74 22 2C 0A 20 22 73 69 7A 65 22 3A 20 38 2C 20 22 76 61 6C 75 65 73 22 3A 20 5B 0A 7B 22 6E 61 6D 65 22 3A 20 22 61 6C 74 69 74 75 64 65 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 66 6C 6F 61 74 22 7D 2C 0A 7B 22 6E 61 6D 65 22 3A 20 22 68 65 61 64 69 6E 67 22 2C 20 22 73 69 7A 65 22 3A 20 34 2C 20 22 74 79 70 65 22 3A 20 22 69 6E 74 22 7D 2C 0A 5D 0A 7D 00 01 00 11 00 00 00 00 10 42 24 00 00 00 00 00 00 00 01 ".split(" ").map((function(e){return parseInt(e,16)}))),U=(r(89),function(e){var t,r=a.a.useState(""),n=Object(p.a)(r,2),s=n[0],i=n[1];return Object(h.jsxs)(m.a,{className:"settings-grid-element",children:[Object(h.jsx)(y.a,{component:"h1",children:"Settings"}),Object(h.jsx)(k.a,{}),Object(h.jsxs)(g.a,{className:"settings-form",children:[Object(h.jsx)(C.a,{children:"Data source"}),Object(h.jsx)(b.a,{value:s,onChange:function(t){var r;null===(r=e.logic.currentDataSource)||void 0===r||r.close(),e.logic.currentDataSource=R.find((function(e){return e.matchesStringValue(t.target.value)}))||null,i(t.target.value)},children:R.map((function(e){return e.getSelectOption()}))}),Object(h.jsx)(D.a,{children:"Data source to use"}),null===(t=e.logic.currentDataSource)||void 0===t?void 0:t.getSettings()]})]})}),z=function(e){Object(c.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).props.logic.onUpdate=function(){n.forceUpdate()},n}return Object(u.a)(r,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(d,{children:{horizon:Object(h.jsx)(v,{pitch:this.props.logic.data.pitch,bank:this.props.logic.data.bank,heading:this.props.logic.data.heading,altitude:this.props.logic.data.altitude,speed:this.props.logic.data.speed}),settings:Object(h.jsx)(U,{logic:this.props.logic})}})})}}]),r}(a.a.Component),N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,151)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),s(e),i(e)}))},I=r(66),H=r(67),L=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Object(o.a)(this,e),this.registry=null,this.onUpdate=void 0,this.data={pitch:0,bank:0,heading:0,speed:0,altitude:0},this._currentDataSource=null,this.streamHook=null,this.onUpdate=t}return Object(u.a)(e,[{key:"currentDataSource",get:function(){return this._currentDataSource},set:function(e){this._currentDataSource=e,this.setStreamHook((null===e||void 0===e?void 0:e.getStreamHook())||null),null===e||void 0===e||e.begin()}},{key:"setStreamHook",value:function(e){var t=this;this.streamHook=e,this.registry=new H.MessageRegistry,e&&(e.onData=function(e){if(t.registry){t.registry.readData(e);var r,n=Object(I.a)(t.registry.basicSensorValues||[]);try{for(n.s();!(r=n.n()).done;){var a=r.value;Object.keys(t.data).includes(a.name)&&(t.data[a.name]=a.value)}}catch(s){n.e(s)}finally{n.f()}t.onUpdate()}})}}]),e}());i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(z,{logic:L})}),document.getElementById("root")),N()},55:function(e,t,r){"use strict";var n=r(47),a=r(48);Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var s=function(){function e(t,r){if(n(this,e),r<=1||r>255)throw new Error("id not in valid range");this.id=r,this.value=t}return a(e,[{key:"parse",value:function(e){new DataView(e).getUint8(0);return new Uint8Array(e).length==this.value.size&&(this.value.parse(e),!0)}}]),e}();t.Message=s},58:function(e,t,r){"use strict";var n=r(49),a=r(48),s=r(59),i=r(96),o=r(98),u=r(47);Object.defineProperty(t,"__esModule",{value:!0}),t.SensorValueList=t.NumberSensorValue=t.getNumberParser=t.parsers=t.SensorValue=void 0;var c=function e(){var t=this;u(this,e),this.name="",this.size=0,this.replaceBasicSensorValues=function(e){return t}};t.SensorValue=c,t.parsers={uint8:{name:"uint8",size:1,parse:function(e){return new Uint8Array(e)[0]}},uint16:{name:"uint16",size:2,parse:function(e){return new Uint16Array(e)[0]}},uint32:{name:"uint32",size:4,parse:function(e){return new Uint32Array(e)[0]}},int8:{name:"int8",size:1,parse:function(e){return new Int8Array(e)[0]}},int16:{name:"int16",size:2,parse:function(e){return new Int16Array(e)[0]}},int32:{name:"int32",size:4,parse:function(e){return new Int32Array(e)[0]}},float32:{name:"float32",size:4,parse:function(e){return new Float32Array(e)[0]}},float64:{name:"float64",size:4,parse:function(e){return new Float64Array(e)[0]}}};t.getNumberParser=function(e,r){return t.parsers[e+8*r]};var l=function(e){i(r,e);var t=o(r);function r(e,n){var a;return u(this,r),(a=t.call(this)).value=0,a.name=e,a.parser=n,a.size=n.size,a.replaceBasicSensorValues=function(e){var t=e.find((function(e){return e.name==a.name}));return void 0==t?s(a):t},a}return a(r,[{key:"getBasicSensorValues",value:function(){return[this]}},{key:"parse",value:function(e){return this.value=this.parser.parse(e),!0}}]),r}(c);t.NumberSensorValue=l;var h=function(e){i(r,e);var t=o(r);function r(e){var n;return u(this,r),(n=t.call(this)).sensorValues=e,n.sensorValues.forEach((function(e){return n.size+=e.size})),n.replaceBasicSensorValues=function(e){for(var t in n.sensorValues)n.sensorValues[t]=n.sensorValues[t].replaceBasicSensorValues(e);return s(n)},n}return a(r,[{key:"getBasicSensorValues",value:function(){return this.sensorValues.filter((function(e){return e instanceof l}))}},{key:"parse",value:function(e){var t,r=0,a=n(this.sensorValues);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.parse(e.slice(r,r+s.size)),r+=s.size}}catch(i){a.e(i)}finally{a.f()}return r==this.size}}]),r}(c);t.SensorValueList=h},67:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberSensorValue=t.SensorValueList=t.MessageRegistry=t.Message=void 0;var n=r(55);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return n.Message}});var a=r(90);Object.defineProperty(t,"MessageRegistry",{enumerable:!0,get:function(){return a.MessageRegistry}});var s=r(58);Object.defineProperty(t,"SensorValueList",{enumerable:!0,get:function(){return s.SensorValueList}}),Object.defineProperty(t,"NumberSensorValue",{enumerable:!0,get:function(){return s.NumberSensorValue}})},78:function(e,t,r){},79:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){},89:function(e,t,r){},90:function(e,t,r){"use strict";var n=r(49),a=r(47),s=r(48),i=r(91);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageRegistry=void 0;var o=r(55),u=r(95),c=function(e){var t={id:255,parse:function(e){return t.value.parse(e)},value:{name:"message",parse:function(r){var n=new TextDecoder("utf-8"),a=new Uint8Array(r)[0],s=n.decode(r.slice(1));try{var c=JSON.parse(s);if(u.isSensorValueDTO(c)){var l,h=u.toSensorValue(c),f=new o.Message(h,a);f.value=f.value.replaceBasicSensorValues(e.basicSensorValues);var v=h.getBasicSensorValues();e.basicSensorValues=e.basicSensorValues.filter((function(e){return-1===v.findIndex((function(t){return t.name===e.name}))})),(l=e.basicSensorValues).push.apply(l,i(v)),t.value.message=f;var A=e.messages.findIndex((function(e){return e.id==f.id}));-1!=A&&(console.log("attention, added same message id again!"),e.messages.splice(A,1)),e.addMessage(f)}}catch(d){return!1}return!0},size:h,replaceBasicSensorValues:function(e){return t.value},message:null,getBasicSensorValues:function(){return[]}},registry:e};return t},l=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,e),this.currentMessage=null,this.buffer=new ArrayBuffer(0),this.bufferView=new Uint8Array(this.buffer),this.currentPosition=0,this.previousByteZero=!1,this.basicSensorValues=[],this.messages=[],r.push(c(this)),r.forEach((function(e){return t.addMessage(e)}))}return s(e,[{key:"readData",value:function(e){var t,r=this,a=n(new Uint8Array(e));try{var s=function(){var e=t.value;if(r.currentPosition>=(null!==r.currentMessage?r.currentMessage.value:0)&&(r.currentPosition=0),r.previousByteZero){if(0==e)r.bufferView[r.currentPosition]=e,r.currentPosition++;else if(1==e)r.currentMessage&&(r.currentMessage.parse(r.buffer.slice(0,r.currentPosition)),r.currentMessage=null);else{var n=r.messages.findIndex((function(t){return t.id==e}));r.currentMessage=-1==n?null:r.messages[n]}r.previousByteZero=!1}else 0==e?r.previousByteZero=!0:(r.bufferView[r.currentPosition]=e,r.currentPosition++)};for(a.s();!(t=a.n()).done;)s()}catch(i){a.e(i)}finally{a.f()}}},{key:"addMessage",value:function(e){this.messages.push(e),this.buffer=new ArrayBuffer(Math.max.apply(Math,i(this.messages.map((function(e){return e.value.size}))))),this.bufferView=new Uint8Array(this.buffer)}}],[{key:"fromJSON",value:function(e){}}]),e}();t.MessageRegistry=l;var h=1e4},95:function(e,t,r){"use strict";var n=r(49);Object.defineProperty(t,"__esModule",{value:!0}),t.toSensorValue=t.isSensorValueListDTO=t.isSensorValueDTO=t.isBasicSensorValueDTOConstrained=t.isBasicSensorValueDTO=void 0;var a=r(58);function s(e){return void 0!==e.name&&void 0!==e.size}function i(e){return s(e)&&void 0!==e.type}function o(e){return void 0===e.values}function u(e){try{if(!s(e))return!1;var t=e.values;if(void 0===t)return!1;var r,a=n(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(!i(o)||!u(o))return!1}}catch(c){a.e(c)}finally{a.f()}}catch(l){return!1}return!0}t.isBasicSensorValueDTO=i,t.isBasicSensorValueDTOConstrained=o,t.isSensorValueDTO=function(e){return i(e)||!u(e)},t.isSensorValueListDTO=u,t.toSensorValue=function e(t){if(o(t))return new a.NumberSensorValue(t.name,a.getNumberParser(t.type,t.size));var r=t.values.map((function(t){return e(t)}));return new a.SensorValueList(r)}}},[[103,1,2]]]);
//# sourceMappingURL=main.bb7f549a.chunk.js.map